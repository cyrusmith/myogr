jQuery(document).ready(function(t){function e(t,i){var n=t.parents(".slideshow-wrap"),s=t.parents(".slideshow-inner"),a=t.find("li.current"),o=t.parents(".slideshow-wrap").find(".slideshow-buttons li"),r=o.filter(".slideshow-stop");null==i?(i=a.next(),1>i.length&&(i=t.find("li:first")),n.removeClass("paused"),r.find("a").html("Stop")):(n.addClass("paused"),r.find("a").html("Play")),s.scrollTo(i,1e3),a.removeClass("current"),i.addClass("current"),o.removeClass("current").eq(i.index()).addClass("current"),t.delay(3e3).animate({alpha:1},function(){0==n.hasClass("paused")&&e(t,null)})}t("ul.menu").each(function(){t(this).find("li").has("ul").addClass("has-menu").append('<span class="arrow">&nbsp;</span>')}),t("ul.menu li").hover(function(){t(this).find("ul:first").stop(!0,!0).fadeIn("fast"),t(this).addClass("hover")},function(){t(this).find("ul").stop(!0,!0).fadeOut("slow"),t(this).removeClass("hover")}),t.localScroll({filter:":not(.tabs>li>a)",lazy:!0,hash:!0}),t("ul.slideshow").wrap('<div class="slideshow-wrap"><div class="slideshow-inner"></div></div>').each(function(){var i=t(this).parents(".slideshow-wrap"),n=t(this).parents(".slideshow-inner"),s=t(this).attr("width"),a=t(this).attr("height");void 0!=s&&void 0!=a&&(i.width(s),n.height(a)),t(this).width("999em").attr("width","").attr("height",""),t(this).find("li:first").addClass("current"),t(this).delay(2e3).animate({alpha:1},function(){e(t(this),null)});var o=t(this).find("li");i.append('<ul class="slideshow-buttons"></ul>'),o.each(function(t){i.find(".slideshow-buttons").append('<li><a href="#slideshow-'+t+'" rel="'+t+'">'+(t+1)+"</a></li>")}),i.find(".slideshow-buttons").append('<li class="slideshow-stop"><a href="#slideshow-stop">Stop</a></li>'),i.find(".slideshow-stop a").click(function(n){n.preventDefault(),next=i.hasClass("paused")?null:i.find(".slideshow li.current");var s=t(this).parents(".slideshow-wrap").find("ul.slideshow");e(s,next)}),t(".slideshow-buttons li:first").addClass("current"),i.find(".slideshow-buttons li").not(".slideshow-stop").find("a").click(function(n){n.preventDefault();var s=i.find("ul.slideshow"),a=t(n.currentTarget).attr("rel"),o=s.find("li").eq(a);e(s,o)})}),t("input[placeholder], textarea[placeholder]").placeholder(),t("select.fancy").chosen(),t("a.video-placeholder").each(function(){t(this).append('<span class="icon x-large white" data-icon="&nbsp;"></span>')}),t(".calendar").each(function(){t(this).attr("data-month")&&(cMonth=t(this).attr("data-month")),t(this).attr("data-year")&&(cYear=t(this).attr("data-year")),t(this).calendarWidget({month:cMonth,year:cYear})}),t(".rte").each(function(e){var i=t(this).attr("id")+e;t(this).hide(),t(this).wrap('<div id="'+i+'" class="rte-wrap editmode"></div>');var n=t(this).parents(".rte-wrap"),s=n.find("textarea.rte"),a='<div class="rte-toolbar clearfix">			<ul>			<li><select class="inline">			<option value="&lt;p&gt;">P</option>			<option value="&lt;h1&gt;">H1</option>			<option value="&lt;h2&gt;">H2</option>			<option value="&lt;h3&gt;">H3</option>			<option value="&lt;h4&gt;">H4</option>			<option value="&lt;h5&gt;">H5</option>			<option value="&lt;h6&gt;">H6</option>			<option value="&lt;blockquote&gt;">blockquote</option>			<option value="&lt;pre&gt;">pre</option>			</select></li>			<li><a href="#" title="Bold" class="tooltip rte-bold" data-command="bold"></a></li>			<li><a href="#" title="Italic" class="tooltip rte-italic" data-command="italic"></a></li>			<li><a href="#" title="Unordered List" class="tooltip rte-ul" data-command="insertunorderedlist"></a></li>			<li><a href="#" title="Numbered List" class="tooltip rte-ol" data-command="insertorderedlist"></a></li>			<li><a href="#" title="Image" class="tooltip rte-img" data-command="insertimage" data-prompt="Image Url?"></a></li>			<li><a href="#" title="Link" class="tooltip rte-link" data-command="createLink" data-prompt="Url?"></a></li>			<li><a href="#" title="unLink" class="tooltip rte-unlink" data-command="unlink"></a></li>			<li><a href="#" title="Align Left" class="tooltip rte-justifyleft" data-command="justifyleft"></a></li>			<li><a href="#" title="Align Center" class="tooltip rte-justifycenter" data-command="justifycenter"></a></li>			<li><a href="#" title="Align Right" class="tooltip rte-justifyright" data-command="justifyright"></a></li>			<li><a href="#" title="Subscript" class="tooltip rte-sub" data-command="subscript" data-value="&lt;sup&gt;"></a></li>			<li><a href="#" title="Superscript" class="tooltip rte-sup" data-command="superscript" data-value="&lt;sup&gt;"></a></li>			<li class="html-toggle"><a href="">HTML</a></li>			</ul></div>',o='<div class="rte-editor" style="height:'+s.innerHeight()+'px" contenteditable="true"></div>';n.prepend(a+o),n.find(".rte-editor").html(s.val())}),t(".rte-wrap .rte-toolbar a").live("click",function(e){e.preventDefault();var i=t(this).parents(".rte-wrap");i.find(".rte-toolbar");var n=i.find(".rte-editor"),s=i.find("textarea.rte"),a=!1,o=t(this).attr("data-value"),r=t(this).attr("data-command"),l=t(this).attr("data-prompt");l&&(o=prompt(l)),t(this).parent().hasClass("html-toggle")&&(s.is(":hidden")?(s.val(n.html()),i.removeClass("editmode")):(n.html(s.val()),i.addClass("editmode")),n.toggle(),s.toggle()),document.execCommand(r,a,o)}),t(".rte-wrap .rte-toolbar select").live("change",function(){var e=!1,i=t(this).val();document.execCommand("formatblock",e,i)}),t(".gallery").each(function(e){t(this).find("a").attr("rel","gallery"+e).fancybox({overlayOpacity:.2,overlayColor:"#000"})}),t("a.lightbox").fancybox({overlayOpacity:.2,overlayColor:"#000"}),t(".tab-content").addClass("clearfix").not(":first").hide(),t("ul.tabs").each(function(){var e=t(this).find("li.current");1>e.length&&t(this).find("li:first").addClass("current"),e=t(this).find("li.current a").attr("href"),t(e).show()}),t('ul.tabs a[href^="#"]').live("click",function(e){e.preventDefault();var i=t(this).parents("ul.tabs").find("li"),n=t(this).attr("href"),s=i.filter(".current").find("a").attr("href");return t(s).hide(),i.removeClass("current"),t(this).parent().addClass("current"),t(n).show(),!1}),t("img.style1, img.style2, img.style3").each(function(){t(this).wrap("<span>"),t(this).parent("span").attr("class","img-wrap "+t(this).attr("class")).css("background-image","url("+t(this).attr("src")+")").css("background-position","center center").css("background-repeat","no-repeat").css("height",t(this).height()).css("width",t(this).width()),t(this).attr("class","").hide()}),t("img.caption").each(function(){t(this).wrap('<div class="caption">'),t(this).parents("div.caption").attr("class","caption "+t(this).attr("class")).css("width",t(this).width()+"px"),t(this).attr("title")&&t(this).parents("div.caption").append("<span>"+t(this).attr("title")+"</span>")}),t(".notice a.close").live("click",function(e){e.preventDefault();var i=t(this).parents(".notice");t(this).hide(),i.fadeOut("slow")}),t(".tooltip, .tooltip-top, .tooltip-bottom, .tooltip-right, .tooltip-left").each(function(){var e="top",i=t(this).attr("title"),n=t(this).attr("data-content"),s=!1,a="hover";t(this).hasClass("tooltip-top")&&(e="top"),t(this).hasClass("tooltip-right")&&(e="right"),t(this).hasClass("tooltip-bottom")&&(e="bottom"),t(this).hasClass("tooltip-left")&&(e="left"),t(".tooltip-content").removeClass("hide").wrap('<div class="hide"></div>'),n&&(i=t(n).html(),s=!0),"click"==t(this).attr("data-action")&&(a="click"),t(this).attr("title","").tipTip({defaultPosition:e,content:i,keepAlive:s,activation:a,delay:1e3})});var i=[];t("table.sortable").each(function(){t(this).find("thead th").each(function(e){t(this).attr("rel",e)}),t(this).find("th,td").each(function(){t(this).attr("value",t(this).text())})}),t("table.sortable thead th").live("click",function(){t(this).parents("table.sortable").find("span.arrow").remove(),t(this).append('<span class="arrow"></span>');var e=t(this).attr("rel");i[e]="asc"==i[e]?"desc":"asc","desc"==i[e]&&t(this).find("span.arrow").addClass("up");var n=t(this).parents("table.sortable").find("tbody tr");n.tsort("td:eq("+e+")",{order:i[e],attr:"value"}),n.removeClass("alt first last");var s=t(this).parents("table.sortable");s.find("tr:even").addClass("alt"),s.find("tr:first").addClass("first"),s.find("tr:last").addClass("last")}),t(".icon").each(function(){t(this).append('<span aria-hidden="true">'+t(this).attr("data-icon")+"</span>").css("display","inline-block")}),t.browser.msie&&t("body").addClass("msie"),t("input[type=checkbox]").addClass("checkbox"),t("input[type=radio]").addClass("radio"),t("input[type=file]").addClass("file"),t("[disabled=disabled]").addClass("disabled"),t("table").find("tr:even").addClass("alt"),t("table").find("tr:first-child").addClass("first"),t("table").find("tr:last-child").addClass("last"),t("ul").find("li:first-child").addClass("first"),t("ul").find("li:last-child").addClass("last"),t("hr").before('<div class="clear">&nbsp;</div>'),t("[class*=col_]").not("input, label").addClass("column").each(function(t,e){var i=document.createElement("div");for(i.className="inner";e.firstChild;)i.appendChild(e.firstChild);e.appendChild(i)}),t("pre").addClass("prettyprint"),prettyPrint()}),/**
 * jQuery.LocalScroll - Animated scrolling navigation, using anchors.
 * Copyright Â© 2007-2009 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * Date: 3/11/2009
 * @author Ariel Flesler
 * @version 1.2.7
 **/
function(t){function e(e,i,n){var s=i.hash.slice(1),a=document.getElementById(s)||document.getElementsByName(s)[0];if(a){e&&e.preventDefault();var o=t(n.target);if(!(n.lock&&o.is(":animated")||n.onBefore&&n.onBefore.call(n,e,a,o)===!1)){if(n.stop&&o.stop(!0),n.hash){var r=a.id==s?"id":"name",l=t("<a> </a>").attr(r,s).css({position:"absolute",top:t(window).scrollTop(),left:t(window).scrollLeft()});a[r]="",t("body").prepend(l),location=i.hash,l.remove(),a[r]=s}o.scrollTo(a,n).trigger("notify.serialScroll",[a])}}}var i=location.href.replace(/#.*/,""),n=t.localScroll=function(e){t("body").localScroll(e)};n.defaults={duration:1e3,axis:"y",event:"click",stop:!0,target:window,reset:!0},n.hash=function(i){if(location.hash){if(i=t.extend({},n.defaults,i),i.hash=!1,i.reset){var s=i.duration;delete i.duration,t(i.target).scrollTo(0,i),i.duration=s}e(0,location,i)}},t.fn.localScroll=function(s){function a(){return!(!this.href||!this.hash||this.href.replace(this.hash,"")!=i||s.filter&&!t(this).is(s.filter))}return s=t.extend({},n.defaults,s),s.lazy?this.bind(s.event,function(i){var n=t([i.target,i.target.parentNode]).filter(a)[0];n&&e(i,n,s)}):this.find("a,area").filter(a).bind(s.event,function(t){e(t,this,s)}).end().end()}}(jQuery),function(t){function e(t){return"object"==typeof t?t:{top:t,left:t}}var i=t.scrollTo=function(e,i,n){t(window).scrollTo(e,i,n)};i.defaults={axis:"xy",duration:parseFloat(t.fn.jquery)>=1.3?0:1},i.window=function(){return t(window)._scrollable()},t.fn._scrollable=function(){return this.map(function(){var e=this,i=!e.nodeName||-1!=t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!i)return e;var n=(e.contentWindow||e).document||e.ownerDocument||e;return t.browser.safari||"BackCompat"==n.compatMode?n.body:n.documentElement})},t.fn.scrollTo=function(n,s,a){return"object"==typeof s&&(a=s,s=0),"function"==typeof a&&(a={onAfter:a}),"max"==n&&(n=9e9),a=t.extend({},i.defaults,a),s=s||a.speed||a.duration,a.queue=a.queue&&a.axis.length>1,a.queue&&(s/=2),a.offset=e(a.offset),a.over=e(a.over),this._scrollable().each(function(){function o(t){h.animate(c,s,a.easing,t&&function(){t.call(this,n,a)})}var r,l=this,h=t(l),u=n,c={},d=h.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(u)){u=e(u);break}u=t(u,this);case"object":(u.is||u.style)&&(r=(u=t(u)).offset())}t.each(a.axis.split(""),function(t,e){var n="x"==e?"Left":"Top",s=n.toLowerCase(),f="scroll"+n,p=l[f],g=i.max(l,e);if(r)c[f]=r[s]+(d?0:p-h.offset()[s]),a.margin&&(c[f]-=parseInt(u.css("margin"+n))||0,c[f]-=parseInt(u.css("border"+n+"Width"))||0),c[f]+=a.offset[s]||0,a.over[s]&&(c[f]+=u["x"==e?"width":"height"]()*a.over[s]);else{var m=u[s];c[f]=m.slice&&"%"==m.slice(-1)?parseFloat(m)/100*g:m}/^\d+$/.test(c[f])&&(c[f]=0>=c[f]?0:Math.min(c[f],g)),!t&&a.queue&&(p!=c[f]&&o(a.onAfterFirst),delete c[f])}),o(a.onAfter)}).end()},i.max=function(e,i){var n="x"==i?"Width":"Height",s="scroll"+n;if(!t(e).is("html,body"))return e[s]-t(e)[n.toLowerCase()]();var a="client"+n,o=e.ownerDocument.documentElement,r=e.ownerDocument.body;return Math.max(o[s],r[s])-Math.min(o[a],r[a])}}(jQuery),/*
* Placeholder plugin for jQuery
* ---
* Copyright 2010, Daniel Stocks (http://webcloud.se)
* Released under the MIT, BSD, and GPL Licenses.
*/
function(t){function e(e){this.input=e,"password"==e.attr("type")&&this.handlePassword(),t(e[0].form).submit(function(){e.hasClass("placeholder")&&e[0].value==e.attr("placeholder")&&(e[0].value="")})}e.prototype={show:function(t){if(""===this.input[0].value||t&&this.valueIsPlaceholder()){if(this.isPassword)try{this.input[0].setAttribute("type","text")}catch(e){this.input.before(this.fakePassword.show()).hide()}this.input.addClass("placeholder"),this.input[0].value=this.input.attr("placeholder")}},hide:function(){if(this.valueIsPlaceholder()&&this.input.hasClass("placeholder")&&(this.input.removeClass("placeholder"),this.input[0].value="",this.isPassword)){try{this.input[0].setAttribute("type","password")}catch(t){}this.input.show(),this.input[0].focus()}},valueIsPlaceholder:function(){return this.input[0].value==this.input.attr("placeholder")},handlePassword:function(){var e=this.input;if(e.attr("realType","password"),this.isPassword=!0,t.browser.msie&&e[0].outerHTML){var i=t(e[0].outerHTML.replace(/type=(['"])?password\1/gi,"type=$1text$1"));this.fakePassword=i.val(e.attr("placeholder")).addClass("placeholder").focus(function(){e.trigger("focus"),t(this).hide()}),t(e[0].form).submit(function(){i.remove(),e.show()})}}};var i=!!("placeholder"in document.createElement("input"));t.fn.placeholder=function(){return i?this:this.each(function(){var i=t(this),n=new e(i);n.show(!0),i.focus(function(){n.hide()}),i.blur(function(){n.show(!1)}),t.browser.msie&&(t(window).load(function(){i.val()&&i.removeClass("placeholder"),n.show(!0)}),i.focus(function(){if(""==this.value){var t=this.createTextRange();t.collapse(!0),t.moveStart("character",0),t.select()}}))})}}(jQuery),/*
 * FancyBox - jQuery Plugin
 * Simple and fancy lightbox alternative
 *
 * Examples and documentation at: http://fancybox.net
 * 
 * Copyright (c) 2008 - 2010 Janis Skarnelis
 * That said, it is hardly a one-person project. Many people have submitted bugs, code, and offered their advice freely. Their support is greatly appreciated.
 * 
 * Version: 1.3.4 (11/11/2010)
 * Requires: jQuery v1.3+
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
function(t){var e,i,n,s,a,o,r,l,h,u,c,d,f,p=0,g={},m=[],v=0,b={},_=[],y=null,w=new Image,C=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,x=/[^\.]\.(swf)\s*$/i,D=1,S=0,T="",k=!1,I=t.extend(t("<div/>")[0],{prop:0}),A=t.browser.msie&&7>t.browser.version&&!window.XMLHttpRequest,P=function(){i.hide(),w.onerror=w.onload=null,y&&y.abort(),e.empty()},N=function(){!1===g.onError(m,p,g)?(i.hide(),k=!1):(g.titleShow=!1,g.width="auto",g.height="auto",e.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),F())},M=function(){var n,s,a,r,l,h,u=m[p];if(P(),g=t.extend({},t.fn.fancybox.defaults,"undefined"==typeof t(u).data("fancybox")?g:t(u).data("fancybox")),h=g.onStart(m,p,g),h===!1)k=!1;else if("object"==typeof h&&(g=t.extend(g,h)),a=g.title||(u.nodeName?t(u).attr("title"):u.title)||"",u.nodeName&&!g.orig&&(g.orig=t(u).children("img:first").length?t(u).children("img:first"):t(u)),""===a&&g.orig&&g.titleFromAlt&&(a=g.orig.attr("alt")),n=g.href||(u.nodeName?t(u).attr("href"):u.href)||null,(/^(?:javascript)/i.test(n)||"#"==n)&&(n=null),g.type?(s=g.type,n||(n=g.content)):g.content?s="html":n&&(s=n.match(C)?"image":n.match(x)?"swf":t(u).hasClass("iframe")?"iframe":0===n.indexOf("#")?"inline":"ajax"),s)switch("inline"==s&&(u=n.substr(n.indexOf("#")),s=t(u).length>0?"inline":"ajax"),g.type=s,g.href=n,g.title=a,g.autoDimensions&&("html"==g.type||"inline"==g.type||"ajax"==g.type?(g.width="auto",g.height="auto"):g.autoDimensions=!1),g.modal&&(g.overlayShow=!0,g.hideOnOverlayClick=!1,g.hideOnContentClick=!1,g.enableEscapeButton=!1,g.showCloseButton=!1),g.padding=parseInt(g.padding,10),g.margin=parseInt(g.margin,10),e.css("padding",g.padding+g.margin),t(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){t(this).replaceWith(o.children())}),s){case"html":e.html(g.content),F();break;case"inline":if(t(u).parent().is("#fancybox-content")===!0){k=!1;break}t('<div class="fancybox-inline-tmp" />').hide().insertBefore(t(u)).bind("fancybox-cleanup",function(){t(this).replaceWith(o.children())}).bind("fancybox-cancel",function(){t(this).replaceWith(e.children())}),t(u).appendTo(e),F();break;case"image":k=!1,t.fancybox.showActivity(),w=new Image,w.onerror=function(){N()},w.onload=function(){k=!0,w.onerror=w.onload=null,g.width=w.width,g.height=w.height,t("<img />").attr({id:"fancybox-img",src:w.src,alt:g.title}).appendTo(e),E()},w.src=n;break;case"swf":g.scrolling="no",r='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+g.width+'" height="'+g.height+'"><param name="movie" value="'+n+'"></param>',l="",t.each(g.swf,function(t,e){r+='<param name="'+t+'" value="'+e+'"></param>',l+=" "+t+'="'+e+'"'}),r+='<embed src="'+n+'" type="application/x-shockwave-flash" width="'+g.width+'" height="'+g.height+'"'+l+"></embed></object>",e.html(r),F();break;case"ajax":k=!1,t.fancybox.showActivity(),g.ajax.win=g.ajax.success,y=t.ajax(t.extend({},g.ajax,{url:n,data:g.ajax.data||{},error:function(t){t.status>0&&N()},success:function(t,s,a){if(200==("object"==typeof a?a:y).status){if("function"==typeof g.ajax.win){if(h=g.ajax.win(n,t,s,a),h===!1)return i.hide(),void 0;("string"==typeof h||"object"==typeof h)&&(t=h)}e.html(t),F()}}}));break;case"iframe":E()}else N()},F=function(){var i=g.width,n=g.height;i=i.toString().indexOf("%")>-1?parseInt((t(window).width()-2*g.margin)*parseFloat(i)/100,10)+"px":"auto"==i?"auto":i+"px",n=n.toString().indexOf("%")>-1?parseInt((t(window).height()-2*g.margin)*parseFloat(n)/100,10)+"px":"auto"==n?"auto":n+"px",e.wrapInner('<div style="width:'+i+";height:"+n+";overflow: "+("auto"==g.scrolling?"auto":"yes"==g.scrolling?"scroll":"hidden")+';position:relative;"></div>'),g.width=e.width(),g.height=e.height(),E()},E=function(){var c,y;if(i.hide(),s.is(":visible")&&!1===b.onCleanup(_,v,b))t.event.trigger("fancybox-cancel"),k=!1;else{if(k=!0,t(o.add(n)).unbind(),t(window).unbind("resize.fb scroll.fb"),t(document).unbind("keydown.fb"),s.is(":visible")&&"outside"!==b.titlePosition&&s.css("height",s.height()),_=m,v=p,b=g,b.overlayShow?(n.css({"background-color":b.overlayColor,opacity:b.overlayOpacity,cursor:b.hideOnOverlayClick?"pointer":"auto",height:t(document).height()}),n.is(":visible")||(A&&t("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),n.show())):n.hide(),f=W(),T=b.title||"",S=0,l.empty().removeAttr("style").removeClass(),b.titleShow!==!1&&(c=t.isFunction(b.titleFormat)?b.titleFormat(T,_,v,b):T&&T.length?"float"==b.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+T+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+b.titlePosition+'">'+T+"</div>":!1,T=c,T&&""!==T))switch(l.addClass("fancybox-title-"+b.titlePosition).html(T).appendTo("body").show(),b.titlePosition){case"inside":l.css({width:f.width-2*b.padding,marginLeft:b.padding,marginRight:b.padding}),S=l.outerHeight(!0),l.appendTo(a),f.height+=S;break;case"over":l.css({marginLeft:b.padding,width:f.width-2*b.padding,bottom:b.padding}).appendTo(a);break;case"float":l.css("left",-1*parseInt((l.width()-f.width-40)/2,10)).appendTo(s);break;default:l.css({width:f.width-2*b.padding,paddingLeft:b.padding,paddingRight:b.padding}).appendTo(s)}l.hide(),s.is(":visible")?(t(r.add(h).add(u)).hide(),c=s.position(),d={top:c.top,left:c.left,width:s.width(),height:s.height()},y=d.width==f.width&&d.height==f.height,o.fadeTo(b.changeFade,.3,function(){var i=function(){o.html(e.contents()).fadeTo(b.changeFade,1,L)};t.event.trigger("fancybox-change"),o.empty().removeAttr("filter").css({"border-width":b.padding,width:f.width-2*b.padding,height:g.autoDimensions?"auto":f.height-S-2*b.padding}),y?i():(I.prop=0,t(I).animate({prop:1},{duration:b.changeSpeed,easing:b.easingChange,step:j,complete:i}))})):(s.removeAttr("style"),o.css("border-width",b.padding),"elastic"==b.transitionIn?(d=R(),o.html(e.contents()),s.show(),b.opacity&&(f.opacity=0),I.prop=0,t(I).animate({prop:1},{duration:b.speedIn,easing:b.easingIn,step:j,complete:L})):("inside"==b.titlePosition&&S>0&&l.show(),o.css({width:f.width-2*b.padding,height:g.autoDimensions?"auto":f.height-S-2*b.padding}).html(e.contents()),s.css(f).fadeIn("none"==b.transitionIn?0:b.speedIn,L)))}},H=function(){(b.enableEscapeButton||b.enableKeyboardNav)&&t(document).bind("keydown.fb",function(e){27==e.keyCode&&b.enableEscapeButton?(e.preventDefault(),t.fancybox.close()):37!=e.keyCode&&39!=e.keyCode||!b.enableKeyboardNav||"INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||"SELECT"===e.target.tagName||(e.preventDefault(),t.fancybox[37==e.keyCode?"prev":"next"]())}),b.showNavArrows?((b.cyclic&&_.length>1||0!==v)&&h.show(),(b.cyclic&&_.length>1||v!=_.length-1)&&u.show()):(h.hide(),u.hide())},L=function(){t.support.opacity||(o.get(0).style.removeAttribute("filter"),s.get(0).style.removeAttribute("filter")),g.autoDimensions&&o.css("height","auto"),s.css("height","auto"),T&&T.length&&l.show(),b.showCloseButton&&r.show(),H(),b.hideOnContentClick&&o.bind("click",t.fancybox.close),b.hideOnOverlayClick&&n.bind("click",t.fancybox.close),t(window).bind("resize.fb",t.fancybox.resize),b.centerOnScroll&&t(window).bind("scroll.fb",t.fancybox.center),"iframe"==b.type&&t('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(t.browser.msie?'allowtransparency="true""':"")+' scrolling="'+g.scrolling+'" src="'+b.href+'"></iframe>').appendTo(o),s.show(),k=!1,t.fancybox.center(),b.onComplete(_,v,b);var e,i;_.length-1>v&&(e=_[v+1].href,"undefined"!=typeof e&&e.match(C)&&(i=new Image,i.src=e)),v>0&&(e=_[v-1].href,"undefined"!=typeof e&&e.match(C)&&(i=new Image,i.src=e))},j=function(t){var e={width:parseInt(d.width+(f.width-d.width)*t,10),height:parseInt(d.height+(f.height-d.height)*t,10),top:parseInt(d.top+(f.top-d.top)*t,10),left:parseInt(d.left+(f.left-d.left)*t,10)};"undefined"!=typeof f.opacity&&(e.opacity=.5>t?.5:t),s.css(e),o.css({width:e.width-2*b.padding,height:e.height-S*t-2*b.padding})},O=function(){return[t(window).width()-2*b.margin,t(window).height()-2*b.margin,t(document).scrollLeft()+b.margin,t(document).scrollTop()+b.margin]},W=function(){var t=O(),e={},i=b.autoScale,n=2*b.padding;return e.width=b.width.toString().indexOf("%")>-1?parseInt(t[0]*parseFloat(b.width)/100,10):b.width+n,e.height=b.height.toString().indexOf("%")>-1?parseInt(t[1]*parseFloat(b.height)/100,10):b.height+n,i&&(e.width>t[0]||e.height>t[1])&&("image"==g.type||"swf"==g.type?(i=b.width/b.height,e.width>t[0]&&(e.width=t[0],e.height=parseInt((e.width-n)/i+n,10)),e.height>t[1]&&(e.height=t[1],e.width=parseInt((e.height-n)*i+n,10))):(e.width=Math.min(e.width,t[0]),e.height=Math.min(e.height,t[1]))),e.top=parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-e.height-40)),10),e.left=parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-e.width-40)),10),e},R=function(){var e=g.orig?t(g.orig):!1,i={};return e&&e.length?(i=e.offset(),i.top+=parseInt(e.css("paddingTop"),10)||0,i.left+=parseInt(e.css("paddingLeft"),10)||0,i.top+=parseInt(e.css("border-top-width"),10)||0,i.left+=parseInt(e.css("border-left-width"),10)||0,i.width=e.width(),i.height=e.height(),i={width:i.width+2*b.padding,height:i.height+2*b.padding,top:i.top-b.padding-20,left:i.left-b.padding-20}):(e=O(),i={width:2*b.padding,height:2*b.padding,top:parseInt(e[3]+.5*e[1],10),left:parseInt(e[2]+.5*e[0],10)}),i},z=function(){i.is(":visible")?(t("div",i).css("top",-40*D+"px"),D=(D+1)%12):clearInterval(c)};t.fn.fancybox=function(e){return t(this).length?(t(this).data("fancybox",t.extend({},e,t.metadata?t(this).metadata():{})).unbind("click.fb").bind("click.fb",function(e){e.preventDefault(),k||(k=!0,t(this).blur(),m=[],p=0,e=t(this).attr("rel")||"",e&&""!=e&&"nofollow"!==e?(m=t("a[rel="+e+"], area[rel="+e+"]"),p=m.index(this)):m.push(this),M())}),this):this},t.fancybox=function(e,i){var n;if(!k){if(k=!0,n="undefined"!=typeof i?i:{},m=[],p=parseInt(n.index,10)||0,t.isArray(e)){for(var s=0,a=e.length;a>s;s++)"object"==typeof e[s]?t(e[s]).data("fancybox",t.extend({},n,e[s])):e[s]=t({}).data("fancybox",t.extend({content:e[s]},n));m=jQuery.merge(m,e)}else"object"==typeof e?t(e).data("fancybox",t.extend({},n,e)):e=t({}).data("fancybox",t.extend({content:e},n)),m.push(e);(p>m.length||0>p)&&(p=0),M()}},t.fancybox.showActivity=function(){clearInterval(c),i.show(),c=setInterval(z,66)},t.fancybox.hideActivity=function(){i.hide()},t.fancybox.next=function(){return t.fancybox.pos(v+1)},t.fancybox.prev=function(){return t.fancybox.pos(v-1)},t.fancybox.pos=function(t){k||(t=parseInt(t),m=_,t>-1&&_.length>t?(p=t,M()):b.cyclic&&_.length>1&&(p=t>=_.length?0:_.length-1,M()))},t.fancybox.cancel=function(){k||(k=!0,t.event.trigger("fancybox-cancel"),P(),g.onCancel(m,p,g),k=!1)},t.fancybox.close=function(){function e(){n.fadeOut("fast"),l.empty().hide(),s.hide(),t.event.trigger("fancybox-cleanup"),o.empty(),b.onClosed(_,v,b),_=g=[],v=p=0,b=g={},k=!1}if(!k&&!s.is(":hidden"))if(k=!0,b&&!1===b.onCleanup(_,v,b))k=!1;else if(P(),t(r.add(h).add(u)).hide(),t(o.add(n)).unbind(),t(window).unbind("resize.fb scroll.fb"),t(document).unbind("keydown.fb"),o.find("iframe").attr("src",A&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==b.titlePosition&&l.empty(),s.stop(),"elastic"==b.transitionOut){d=R();var i=s.position();f={top:i.top,left:i.left,width:s.width(),height:s.height()},b.opacity&&(f.opacity=1),l.empty().hide(),I.prop=1,t(I).animate({prop:0},{duration:b.speedOut,easing:b.easingOut,step:j,complete:e})}else s.fadeOut("none"==b.transitionOut?0:b.speedOut,e)},t.fancybox.resize=function(){n.is(":visible")&&n.css("height",t(document).height()),t.fancybox.center(!0)},t.fancybox.center=function(t){var e,i;k||(i=t===!0?1:0,e=O(),!i&&(s.width()>e[0]||s.height()>e[1])||s.stop().animate({top:parseInt(Math.max(e[3]-20,e[3]+.5*(e[1]-o.height()-40)-b.padding)),left:parseInt(Math.max(e[2]-20,e[2]+.5*(e[0]-o.width()-40)-b.padding))},"number"==typeof t?t:200))},t.fancybox.init=function(){t("#fancybox-wrap").length||(t("body").append(e=t('<div id="fancybox-tmp"></div>'),i=t('<div id="fancybox-loading"><div></div></div>'),n=t('<div id="fancybox-overlay"></div>'),s=t('<div id="fancybox-wrap"></div>')),a=t('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(s),a.append(o=t('<div id="fancybox-content"></div>'),r=t('<a id="fancybox-close"></a>'),l=t('<div id="fancybox-title"></div>'),h=t('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),u=t('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),r.click(t.fancybox.close),i.click(t.fancybox.cancel),h.click(function(e){e.preventDefault(),t.fancybox.prev()}),u.click(function(e){e.preventDefault(),t.fancybox.next()}),t.fn.mousewheel&&s.bind("mousewheel.fb",function(e,i){k?e.preventDefault():(0==t(e.target).get(0).clientHeight||t(e.target).get(0).scrollHeight===t(e.target).get(0).clientHeight)&&(e.preventDefault(),t.fancybox[i>0?"prev":"next"]())}),t.support.opacity||s.addClass("fancybox-ie"),A&&(i.addClass("fancybox-ie6"),s.addClass("fancybox-ie6"),t('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(a)))},t.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},t(document).ready(function(){t.fancybox.init()})}(jQuery),// Copyright (c) 2011 Harvest http://getharvest.com
function(){var t;t=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,n,s,a,o;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,children:0,disabled:t.disabled}),a=t.childNodes,o=[],n=0,s=a.length;s>n;n++)i=a[n],o.push(this.add_option(i,e,t.disabled));return o},t.prototype.add_option=function(t,e,i){return"OPTION"===t.nodeName?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:i===!0?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t}(),t.select_to_array=function(e){var i,n,s,a,o;for(n=new t,o=e.childNodes,s=0,a=o.length;a>s;s++)i=o[s],n.add_node(i);return n.parsed},this.SelectParser=t}.call(this),function(){var t,e;e=this,t=function(){function t(t,e){this.form_field=t,this.options=null!=e?e:{},this.set_default_values(),this.is_multiple=this.form_field.multiple,this.default_text_default=this.is_multiple?"Select Some Options":"Select an Option",this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.choices=0,this.results_none_found=this.options.no_results_text||"No results match"},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;return this.active_field?void 0:setTimeout(function(){return t.container_mousedown()},50)},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.result_add_option=function(t){var e,i;return t.disabled?"":(t.dom_id=this.container_id+"_o_"+t.array_index,e=t.selected&&this.is_multiple?[]:["active-result"],t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=""!==t.style.cssText?' style="'+t.style+'"':"",'<li id="'+t.dom_id+'" class="'+e.join(" ")+'"'+i+">"+t.html+"</li>")},t.prototype.results_update_field=function(){return this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&1>this.backstroke_length&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.generate_field_id=function(){var t;return t=this.generate_random_id(),this.form_field.id=t,t},t.prototype.generate_random_char=function(){var t,e,i;return t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ",i=Math.floor(Math.random()*t.length),e=t.substring(i,i+1)},t}(),e.AbstractChosen=t}.call(this),function(){var t,e,i,n,s=Object.prototype.hasOwnProperty,a=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};n=this,t=jQuery,t.fn.extend({chosen:function(i){return!t.browser.msie||"6.0"!==t.browser.version&&"7.0"!==t.browser.version?t(this).each(function(){return t(this).hasClass("chzn-done")?void 0:new e(this,i)}):this}}),e=function(e){function s(){s.__super__.constructor.apply(this,arguments)}return a(s,e),s.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},s.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},s.prototype.set_up_html=function(){var e,n,s,a;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/(:|\.)/g,"_"):this.generate_field_id(),this.container_id+="_chzn",this.f_width=this.form_field_jq.outerWidth(),this.default_text=this.form_field_jq.data("placeholder")?this.form_field_jq.data("placeholder"):this.default_text_default,e=t("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;"}),this.is_multiple?e.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):e.html('<a href="javascript:void(0)" class="chzn-single"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(e),this.container=t("#"+this.container_id),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),this.dropdown=this.container.find("div.chzn-drop").first(),n=this.container.height(),s=this.f_width-i(this.dropdown),this.dropdown.css({width:s+"px",top:n+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),a=s-i(this.search_container)-i(this.search_field),this.search_field.css({width:a+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},s.prototype.register_observers=function(){var t=this;return this.container.mousedown(function(e){return t.container_mousedown(e)}),this.container.mouseup(function(e){return t.container_mouseup(e)}),this.container.mouseenter(function(e){return t.mouse_enter(e)}),this.container.mouseleave(function(e){return t.mouse_leave(e)}),this.search_results.mouseup(function(e){return t.search_results_mouseup(e)}),this.search_results.mouseover(function(e){return t.search_results_mouseover(e)}),this.search_results.mouseout(function(e){return t.search_results_mouseout(e)}),this.form_field_jq.bind("liszt:updated",function(e){return t.results_update_field(e)}),this.search_field.blur(function(e){return t.input_blur(e)}),this.search_field.keyup(function(e){return t.keyup_checker(e)}),this.search_field.keydown(function(e){return t.keydown_checker(e)}),this.is_multiple?(this.search_choices.click(function(e){return t.choices_click(e)}),this.search_field.focus(function(e){return t.input_focus(e)})):this.container.click(function(t){return t.preventDefault()})},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},s.prototype.container_mousedown=function(e){var i;return this.is_disabled?void 0:(i=null!=e?t(e.target).hasClass("search-choice-close"):!1,e&&"mousedown"===e.type&&e.stopPropagation(),this.pending_destroy_click||i?this.pending_destroy_click=!1:(this.active_field?!this.is_multiple&&e&&(t(e.target)[0]===this.selected_item[0]||t(e.target).parents("a.chzn-single").length)&&(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(document).click(this.click_test_action),this.results_show()),this.activate_field()))},s.prototype.container_mouseup=function(t){return"ABBR"===t.target.nodeName?this.results_reset(t):void 0},s.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},s.prototype.close_field=function(){return t(document).unbind("click",this.click_test_action),this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1)),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},s.prototype.activate_field=function(){return!this.is_multiple&&!this.active_field&&(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1)),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(e){return t(e.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){var t,e,i,s,a;for(this.parsing=!0,this.results_data=n.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.find("span").text(this.default_text),this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),t="",a=this.results_data,i=0,s=a.length;s>i;i++)e=a[i],e.group?t+=this.result_add_group(e):e.empty||(t+=this.result_add_option(e),e.selected&&this.is_multiple?this.choice_build(e):e.selected&&!this.is_multiple&&(this.selected_item.find("span").text(e.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(t),this.parsing=!1},s.prototype.result_add_group=function(e){return e.disabled?"":(e.dom_id=this.container_id+"_g_"+e.array_index,'<li id="'+e.dom_id+'" class="group-result">'+t("<div />").text(e.label).html()+"</li>")},s.prototype.result_do_highlight=function(t){var e,i,n,s,a;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),a=this.search_results.scrollTop(),s=n+a,i=this.result_highlight.position().top+this.search_results.scrollTop(),e=i+this.result_highlight.outerHeight(),e>=s)return this.search_results.scrollTop(e-n>0?e-n:0);if(a>i)return this.search_results.scrollTop(i)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){var t;return this.is_multiple||(this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected)),t=this.is_multiple?this.container.height():this.container.height()-1,this.dropdown.css({top:t+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},s.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},s.prototype.set_tab_index=function(){var t;return this.form_field_jq.attr("tabindex")?(t=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.is_multiple?this.search_field.attr("tabindex",t):(this.selected_item.attr("tabindex",t),this.search_field.attr("tabindex",-1))):void 0},s.prototype.show_search_field_default=function(){return this.is_multiple&&1>this.choices&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(e)):void 0},s.prototype.search_results_mouseover=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},s.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},s.prototype.choices_click=function(e){return e.preventDefault(),!this.active_field||t(e.target).hasClass("search-choice")||this.results_showing?void 0:this.results_show()},s.prototype.choice_build=function(e){var i,n,s=this;return i=this.container_id+"_c_"+e.array_index,this.choices+=1,this.search_container.before('<li class="search-choice" id="'+i+'"><span>'+e.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+e.array_index+'"></a></li>'),n=t("#"+i).find("a").first(),n.click(function(t){return s.choice_destroy_link_click(t)})},s.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),this.is_disabled?e.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(t(e.target)))},s.prototype.choice_destroy=function(t){return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&1>this.search_field.val().length&&this.results_hide(),this.result_deselect(t.attr("rel")),t.parents("li").first().remove()},s.prototype.results_reset=function(e){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.show_search_field_default(),t(e.target).remove(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},s.prototype.result_select=function(t){var e,i,n,s;return this.result_highlight?(e=this.result_highlight,i=e.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(e):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=e),e.addClass("result-selected"),s=i.substr(i.lastIndexOf("_")+1),n=this.results_data[s],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.is_multiple?this.choice_build(n):(this.selected_item.find("span").first().text(n.text),this.allow_single_deselect&&this.single_deselect_control_build()),(!t.metaKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),this.form_field_jq.trigger("change"),this.search_field_scale()):void 0},s.prototype.result_activate=function(t){return t.addClass("active-result")},s.prototype.result_deactivate=function(t){return t.removeClass("active-result")},s.prototype.result_deselect=function(e){var i,n;return n=this.results_data[e],n.selected=!1,this.form_field.options[n.options_index].selected=!1,i=t("#"+this.container_id+"_o_"+e),i.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change"),this.search_field_scale()},s.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&1>this.selected_item.find("abbr").length?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},s.prototype.winnow_results=function(){var e,i,n,s,a,o,r,l,h,u,c,d,f,p,g,m,v;for(this.no_results_clear(),l=0,h=this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html(),a=new RegExp("^"+h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),d=new RegExp(h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),v=this.results_data,f=0,g=v.length;g>f;f++)if(i=v[f],!i.disabled&&!i.empty)if(i.group)t("#"+i.dom_id).css("display","none");else if(!this.is_multiple||!i.selected){if(e=!1,r=i.dom_id,o=t("#"+r),a.test(i.html))e=!0,l+=1;else if((i.html.indexOf(" ")>=0||0===i.html.indexOf("["))&&(s=i.html.replace(/\[|\]/g,"").split(" "),s.length))for(p=0,m=s.length;m>p;p++)n=s[p],a.test(n)&&(e=!0,l+=1);e?(h.length?(u=i.html.search(d),c=i.html.substr(0,u+h.length)+"</em>"+i.html.substr(u+h.length),c=c.substr(0,u)+"<em>"+c.substr(u)):c=i.html,o.html(c),this.result_activate(o),null!=i.group_array_index&&t("#"+this.results_data[i.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&r===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(o))}return 1>l&&h.length?this.no_results(h):this.winnow_results_set_highlight()},s.prototype.winnow_results_clear=function(){var e,i,n,s,a;for(this.search_field.val(""),i=this.search_results.find("li"),a=[],n=0,s=i.length;s>n;n++)e=i[n],e=t(e),e.hasClass("group-result")?a.push(e.css("display","auto")):this.is_multiple&&e.hasClass("result-selected")?a.push(void 0):a.push(this.result_activate(e));return a},s.prototype.winnow_results_set_highlight=function(){var t,e;return this.result_highlight||(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null==t)?void 0:this.result_do_highlight(t)},s.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i)},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var e,i;return this.result_highlight?this.results_showing&&(i=this.result_highlight.nextAll("li.active-result").first(),i&&this.result_do_highlight(i)):(e=this.search_results.find("li.active-result").first(),e&&this.result_do_highlight(t(e))),this.results_showing?void 0:this.results_show()},s.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(this.pending_backstroke=this.search_container.siblings("li.search-choice").last(),this.pending_backstroke.addClass("search-choice-focus"))},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},s.prototype.search_field_scale=function(){var e,i,n,s,a,o,r,l,h;if(this.is_multiple){for(n=0,r=0,a="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,h=o.length;h>l;l++)s=o[l],a+=s+":"+this.search_field.css(s)+";";return i=t("<div />",{style:a}),i.text(this.search_field.val()),t("body").append(i),r=i.width()+25,i.remove(),r>this.f_width-10&&(r=this.f_width-10),this.search_field.css({width:r+"px"}),e=this.container.height(),this.dropdown.css({top:e+"px"})}},s.prototype.generate_random_id=function(){var e;for(e="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();t("#"+e).length>0;)e+=this.generate_random_char();return e},s}(AbstractChosen),i=function(t){var e;return e=t.outerWidth()-t.width()},n.get_side_border_padding=i}.call(this),/*
 * TipTip
 * Copyright 2010 Drew Wilson
 * www.drewwilson.com
 * code.drewwilson.com/entry/tiptip-jquery-plugin
 *
 * Version 1.3   -   Updated: Mar. 23, 2010
 *
 * This Plug-In will create a custom tooltip to replace the default
 * browser tooltip. It is extremely lightweight and very smart in
 * that it detects the edges of the browser window and will make sure
 * the tooltip stays within the current window size. As a result the
 * tooltip will adjust itself to be displayed above, below, to the left 
 * or to the right depending on what is necessary to stay within the
 * browser window. It is completely customizable as well via CSS.
 *
 * This TipTip jQuery plug-in is dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
function(t){t.fn.tipTip=function(e){var i={activation:"hover",keepAlive:!1,maxWidth:"200px",edgeOffset:3,defaultPosition:"bottom",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:!1,enter:function(){},exit:function(){}},n=t.extend(i,e);if(0>=t("#tiptip_holder").length){var s=t('<div id="tiptip_holder" style="max-width:'+n.maxWidth+';"></div>'),a=t('<div id="tiptip_content"></div>'),o=t('<div id="tiptip_arrow"></div>');t("body").append(s.html(a).prepend(o.html('<div id="tiptip_arrow_inner"></div>')))}else var s=t("#tiptip_holder"),a=t("#tiptip_content"),o=t("#tiptip_arrow");return this.each(function(){function e(){n.enter.call(this),a.html(l),s.hide().removeAttr("class").css("margin","0"),o.removeAttr("style");var e=parseInt(r.offset().top),i=parseInt(r.offset().left),u=parseInt(r.outerWidth()),c=parseInt(r.outerHeight()),d=s.outerWidth(),f=s.outerHeight(),p=Math.round((u-d)/2),g=Math.round((c-f)/2),m=Math.round(i+p),v=Math.round(e+c+n.edgeOffset),b="",_="",y=Math.round(d-12)/2;"bottom"==n.defaultPosition?b="_bottom":"top"==n.defaultPosition?b="_top":"left"==n.defaultPosition?b="_left":"right"==n.defaultPosition&&(b="_right");var w=parseInt(t(window).scrollLeft())>p+i,C=d+i>parseInt(t(window).width());w&&0>p||"_right"==b&&!C||"_left"==b&&d+n.edgeOffset+5>i?(b="_right",_=Math.round(f-13)/2,y=-12,m=Math.round(i+u+n.edgeOffset),v=Math.round(e+g)):(C&&0>p||"_left"==b&&!w)&&(b="_left",_=Math.round(f-13)/2,y=Math.round(d),m=Math.round(i-(d+n.edgeOffset+5)),v=Math.round(e+g));var x=e+c+n.edgeOffset+f+8>parseInt(t(window).height()+t(window).scrollTop()),D=0>e+c-(n.edgeOffset+f+8);x||"_bottom"==b&&x||"_top"==b&&!D?("_top"==b||"_bottom"==b?b="_top":b+="_top",_=f,v=Math.round(e-(f+5+n.edgeOffset))):(D|("_top"==b&&D)||"_bottom"==b&&!x)&&("_top"==b||"_bottom"==b?b="_bottom":b+="_bottom",_=-12,v=Math.round(e+c+n.edgeOffset)),"_right_top"==b||"_left_top"==b?v+=5:("_right_bottom"==b||"_left_bottom"==b)&&(v-=5),("_left_top"==b||"_left_bottom"==b)&&(m+=5),o.css({"margin-left":y+"px","margin-top":_+"px"}),s.css({"margin-left":m+"px","margin-top":v+"px"}).attr("class","tip"+b),h&&clearTimeout(h),h=setTimeout(function(){s.stop(!0,!0).fadeIn(n.fadeIn)},n.delay)}function i(){n.exit.call(this),h&&clearTimeout(h),s.fadeOut(n.fadeOut)}var r=t(this);if(n.content)var l=n.content;else var l=r.attr(n.attribute);if(""!=l){n.content||r.removeAttr(n.attribute);var h=!1;"hover"==n.activation?(r.hover(function(){e()},function(){n.keepAlive||i()}),n.keepAlive&&s.hover(function(){},function(){i()})):"focus"==n.activation?r.focus(function(){e()}).blur(function(){i()}):"click"==n.activation&&(r.click(function(){return e(),!1}).hover(function(){},function(){n.keepAlive||i()}),n.keepAlive&&s.hover(function(){},function(){i()}))}})}}(jQuery),function(t){function e(t){return t&&t.toLowerCase?t.toLowerCase():t}function i(t,e){for(var i=0,s=t.length;s>i;i++)if(t[i]==e)return!n;return n}var n=!1,s=null,a=parseFloat,o=/(\d+\.?\d*)$/g;t.tinysort={id:"TinySort",version:"1.2.18",copyright:"Copyright (c) 2008-2012 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licenced:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},defaults:{order:"asc",attr:s,data:s,useVal:n,place:"start",returns:n,cases:n,forceStrings:n,sortFunction:s}},t.fn.extend({tinysort:function(r,l){r&&"string"!=typeof r&&(l=r,r=s);var h,u=t.extend({},t.tinysort.defaults,l),c=this,d=t(this).length,f={},p=!(!r||""==r),g=!(u.attr===s||""==u.attr),m=u.data!==s,v=p&&":"==r[0],b=v?c.filter(r):c,_=u.sortFunction,y="asc"==u.order?1:-1,w=[];_||(_="rand"==u.order?function(){return.5>Math.random()?1:-1}:function(t,i){var n=u.cases?t.s:e(t.s),s=u.cases?i.s:e(i.s);if(!u.forceStrings){var r=n.match(o),l=s.match(o);if(r&&l){var h=n.substr(0,n.length-r[0].length),c=s.substr(0,s.length-l[0].length);h==c&&(n=a(r[0]),s=a(l[0]))}}return y*(s>n?-1:n>s?1:0)}),c.each(function(e,i){var n=t(i),s=p?v?b.filter(i):n.find(r):n,a=m?s.data(u.data):g?s.attr(u.attr):u.useVal?s.val():s.text(),o=n.parent();f[o]||(f[o]={s:[],n:[]}),s.length>0?f[o].s.push({s:a,e:n,n:e}):f[o].n.push({e:n,n:e})});for(h in f)f[h].s.sort(_);for(h in f){var C,x=f[h],D=[],S=d,T=[0,0];switch(u.place){case"first":t.each(x.s,function(t,e){S=Math.min(S,e.n)});break;case"org":t.each(x.s,function(t,e){D.push(e.n)});break;case"end":S=x.n.length;break;default:S=0}for(C=0;d>C;C++){var k=i(D,C)?!n:C>=S&&S+x.s.length>C,I=(k?x.s:x.n)[T[k?0:1]].e;I.parent().append(I),(k||!u.returns)&&w.push(I.get(0)),T[k?0:1]++}}return c.pushStack(w)}}),t.fn.TinySort=t.fn.Tinysort=t.fn.tsort=t.fn.tinysort}(jQuery),function(t){function e(t,e){var i=[31,28,31,30,31,30,31,31,30,31,30,31];return 1!=t||0!=e%4||0==e%100&&0!=e%400?i[t]:29}t.fn.calendarWidget=function(i){var n=new Date,s=n.getMonth(),n=n.getYear()+1900,s={month:s,year:n};t.extend(s,i);var a="Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",");for(month=n=parseInt(s.month),year=parseInt(s.year),i=""+('<h4 id="current-month">'+"January,February,March,April,May,June,July,August,September,October,November,December".split(",")[month]+" "+year+"</h4>"),i=i+('<table class="calendar-month " id="calendar-month'+n+' " cellspacing="0">')+"<tr>",d=0;7>d;d++)i+='<th class="weekday">'+a[d]+"</th>";for(i+="</tr>",e(month,year),n=new Date(year,month,1),s=n.getDay(),a=e(month,year),n=new Date(year,month,1),s=n.getDay(),a=0==month?11:month-1,a=e(a,11==a?year-1:year),s=0==s&&n?7:s,j=n=0;42>j;j++)s>j?i+='<td class="other-month"><span class="day">'+(a-s+j+1)+"</span></td>":j>=s+e(month,year)?(n+=1,i+='<td class="other-month"><span class="day">'+n+"</span></td>"):i+='<td class="current-month day'+(j-s+1)+'"><span class="day">'+(j-s+1)+"</span></td>",6==j%7&&(i+="</tr>");return this.html(i+"</table>"),this}}(jQuery);